"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[301],{52272:(B,_,d)=>{d.d(_,{AV:()=>L,ConfigCtrl:()=>v,ExplorerCtrl:()=>X,OptionsCtrl:()=>u,ThemeCtrl:()=>oe,ToastCtrl:()=>re,jb:()=>Y,uA:()=>U,zv:()=>r});var c=d(49671),o=d(24688);const a=(0,o.sj)({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),L={state:a,subscribe:e=>(0,o.Ld)(a,()=>e(a)),push(e,t){e!==a.view&&(a.view=e,t&&(a.data=t),a.history.push(e))},reset(e){a.view=e,a.history=[e]},replace(e){a.history.length>1&&(a.history[a.history.length-1]=e,a.view=e)},goBack(){if(a.history.length>1){a.history.pop();const[e]=a.history.slice(-1);a.view=e}},setData(e){a.data=e}},r={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile:()=>typeof window<"u"&&!(!window.matchMedia("(pointer:coarse)").matches&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)),isAndroid:()=>r.isMobile()&&navigator.userAgent.toLowerCase().includes("android"),isIos(){const e=navigator.userAgent.toLowerCase();return r.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl:e=>e.startsWith("http://")||e.startsWith("https://"),isArray:e=>Array.isArray(e)&&e.length>0,formatNativeUrl(e,t,s){if(r.isHttpUrl(e))return this.formatUniversalUrl(e,t,s);let n=e;n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,s);return`${n}wc?uri=${encodeURIComponent(t)}`},formatUniversalUrl(e,t,s){if(!r.isHttpUrl(e))return this.formatNativeUrl(e,t,s);let n=e;n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,s);return`${n}wc?uri=${encodeURIComponent(t)}`},wait:e=>(0,c.Z)(function*(){return new Promise(t=>{setTimeout(t,e)})})(),openHref(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(r.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(e){try{const[t]=e.split("?");localStorage.setItem(r.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(r.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(r.WCM_VERSION,"2.6.2")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var e;const t=null==(e=L.state.data)?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t}},V=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),l=(0,o.sj)({enabled:V,userSessionId:"",events:[],connectedWalletId:void 0}),U={state:l,subscribe:e=>(0,o.Ld)(l.events,()=>e((0,o.CO)(l.events[l.events.length-1]))),initialize(){l.enabled&&typeof(null==crypto?void 0:crypto.randomUUID)<"u"&&(l.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){l.connectedWalletId=e},click(e){if(l.enabled){const t={type:"CLICK",name:e.name,userSessionId:l.userSessionId,timestamp:Date.now(),data:e};l.events.push(t)}},track(e){if(l.enabled){const t={type:"TRACK",name:e.name,userSessionId:l.userSessionId,timestamp:Date.now(),data:e};l.events.push(t)}},view(e){if(l.enabled){const t={type:"VIEW",name:e.name,userSessionId:l.userSessionId,timestamp:Date.now(),data:e};l.events.push(t)}}},m=(0,o.sj)({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),u={state:m,subscribe:e=>(0,o.Ld)(m,()=>e(m)),setChains(e){m.chains=e},setWalletConnectUri(e){m.walletConnectUri=e},setIsCustomDesktop(e){m.isCustomDesktop=e},setIsCustomMobile(e){m.isCustomMobile=e},setIsDataLoaded(e){m.isDataLoaded=e},setIsUiLoaded(e){m.isUiLoaded=e},setIsAuth(e){m.isAuth=e}},W=(0,o.sj)({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),v={state:W,subscribe:e=>(0,o.Ld)(W,()=>e(W)),setConfig(e){var t,s;U.initialize(),u.setChains(e.chains),u.setIsAuth(!!e.enableAuthMode),u.setIsCustomMobile(!(null==(t=e.mobileWallets)||!t.length)),u.setIsCustomDesktop(!(null==(s=e.desktopWallets)||!s.length)),r.setModalVersionInStorage(),Object.assign(W,e)}};var K=Object.defineProperty,D=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,k=(e,t,s)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,z=(e,t)=>{for(var s in t||(t={}))Z.call(t,s)&&k(e,s,t[s]);if(D)for(var s of D(t))H.call(t,s)&&k(e,s,t[s]);return e};const O="https://explorer-api.walletconnect.com",A="wcm",j="js-2.6.2";function E(e,t){return M.apply(this,arguments)}function M(){return(M=(0,c.Z)(function*(e,t){const s=z({sdkType:A,sdkVersion:j},t),n=new URL(e,O);return n.searchParams.append("projectId",v.state.projectId),Object.entries(s).forEach(([i,p])=>{p&&n.searchParams.append(i,String(p))}),(yield fetch(n)).json()})).apply(this,arguments)}const h={getDesktopListings:e=>(0,c.Z)(function*(){return E("/w3m/v1/getDesktopListings",e)})(),getMobileListings:e=>(0,c.Z)(function*(){return E("/w3m/v1/getMobileListings",e)})(),getInjectedListings:e=>(0,c.Z)(function*(){return E("/w3m/v1/getInjectedListings",e)})(),getAllListings:e=>(0,c.Z)(function*(){return E("/w3m/v1/getAllListings",e)})(),getWalletImageUrl:e=>`${O}/w3m/v1/getWalletImage/${e}?projectId=${v.state.projectId}&sdkType=${A}&sdkVersion=${j}`,getAssetImageUrl:e=>`${O}/w3m/v1/getAssetImage/${e}?projectId=${v.state.projectId}&sdkType=${A}&sdkVersion=${j}`};var G=Object.defineProperty,T=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,P=(e,t,s)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;const N=r.isMobile(),g=(0,o.sj)({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),X={state:g,getRecomendedWallets:()=>(0,c.Z)(function*(){const{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:t}=v.state;if("NONE"===e||"ALL"===t&&!e)return g.recomendedWallets;if(r.isArray(e)){const s={recommendedIds:e.join(",")},{listings:n}=yield h.getAllListings(s),i=Object.values(n);i.sort((p,C)=>e.indexOf(p.id)-e.indexOf(C.id)),g.recomendedWallets=i}else{const{chains:s,isAuth:n}=u.state,i=s?.join(","),p=r.isArray(t),C={page:1,sdks:n?"auth_v1":void 0,entries:r.RECOMMENDED_WALLET_AMOUNT,chains:i,version:2,excludedIds:p?t.join(","):void 0},{listings:y}=N?yield h.getMobileListings(C):yield h.getDesktopListings(C);g.recomendedWallets=Object.values(y)}return g.recomendedWallets})(),getWallets:e=>(0,c.Z)(function*(){const t=((e,t)=>{for(var s in t||(t={}))J.call(t,s)&&P(e,s,t[s]);if(T)for(var s of T(t))F.call(t,s)&&P(e,s,t[s]);return e})({},e),{explorerRecommendedWalletIds:s,explorerExcludedWalletIds:n}=v.state,{recomendedWallets:i}=g;if("ALL"===n)return g.wallets;i.length?t.excludedIds=i.map(ae=>ae.id).join(","):r.isArray(s)&&(t.excludedIds=s.join(",")),r.isArray(n)&&(t.excludedIds=[t.excludedIds,n].filter(Boolean).join(",")),u.state.isAuth&&(t.sdks="auth_v1");const{page:p,search:C}=e,{listings:y,total:w}=N?yield h.getMobileListings(t):yield h.getDesktopListings(t),R=Object.values(y),$=C?"search":"wallets";return g[$]={listings:[...g[$].listings,...R],total:w,page:p??1},{listings:R,total:w}})(),getWalletImageUrl:e=>h.getWalletImageUrl(e),getAssetImageUrl:e=>h.getAssetImageUrl(e),resetSearch(){g.search={listings:[],total:0,page:1}}},I=(0,o.sj)({open:!1}),Y={state:I,subscribe:e=>(0,o.Ld)(I,()=>e(I)),open:e=>(0,c.Z)(function*(){return new Promise(t=>{const{isUiLoaded:s,isDataLoaded:n}=u.state;if(r.removeWalletConnectDeepLink(),u.setWalletConnectUri(e?.uri),u.setChains(e?.chains),L.reset("ConnectWallet"),s&&n)I.open=!0,t();else{const i=setInterval(()=>{const p=u.state;p.isUiLoaded&&p.isDataLoaded&&(clearInterval(i),I.open=!0,t())},200)}})})(),close(){I.open=!1}};var q=Object.defineProperty,S=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,x=(e,t,s)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;const f=(0,o.sj)({themeMode:function ne(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}()?"dark":"light"}),oe={state:f,subscribe:e=>(0,o.Ld)(f,()=>e(f)),setThemeConfig(e){const{themeMode:t,themeVariables:s}=e;t&&(f.themeMode=t),s&&(f.themeVariables=((e,t)=>{for(var s in t||(t={}))ee.call(t,s)&&x(e,s,t[s]);if(S)for(var s of S(t))te.call(t,s)&&x(e,s,t[s]);return e})({},s))}},b=(0,o.sj)({open:!1,message:"",variant:"success"}),re={state:b,subscribe:e=>(0,o.Ld)(b,()=>e(b)),openToast(e,t){b.open=!0,b.message=e,b.variant=t},closeToast(){b.open=!1}}},93301:(B,_,d)=>{d.r(_),d.d(_,{WalletConnectModal:()=>a});var c=d(49671),o=d(52272);class a{constructor(r){this.openModal=o.jb.open,this.closeModal=o.jb.close,this.subscribeModal=o.jb.subscribe,this.setTheme=o.ThemeCtrl.setThemeConfig,o.ThemeCtrl.setThemeConfig(r),o.ConfigCtrl.setConfig(r),this.initUi()}initUi(){return(0,c.Z)(function*(){if(typeof window<"u"){yield d.e(704).then(d.bind(d,22704));const r=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",r),o.OptionsCtrl.setIsUiLoaded(!0)}})()}}}}]);