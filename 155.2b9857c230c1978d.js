"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[155],{17155:(Xa,jn,g)=>{g.r(jn),g.d(jn,{BaseError:()=>Da.G,ChainNotConfiguredError:()=>rt.X4,ConnectorAccountNotFoundError:()=>rt.JK,ConnectorAlreadyConnectedError:()=>rt.wi,ConnectorChainMismatchError:()=>rt.XZ,ConnectorNotConnectedError:()=>rt.aH,ConnectorNotFoundError:()=>rt.Nu,ProviderNotFoundError:()=>Is.M,SwitchChainNotSupportedError:()=>Is.O,call:()=>Zs,connect:()=>Rs.$,cookieStorage:()=>Va,cookieToInitialState:()=>ja,createConfig:()=>Ra._,createConnector:()=>Es.K,createStorage:()=>Ts.o,custom:()=>Cs.P,deepEqual:()=>Tt.v,deployContract:()=>Ls,deserialize:()=>Ss.v,disconnect:()=>Ds.z,estimateFeesPerGas:()=>Us,estimateGas:()=>Os.Q,estimateMaxPriorityFeePerGas:()=>ks,fallback:()=>za,fetchBalance:()=>Jn.s,fetchBlockNumber:()=>_n,fetchEnsAddress:()=>nr.O,fetchEnsAvatar:()=>rr.r,fetchEnsName:()=>sr.w,fetchEnsResolver:()=>ir,fetchToken:()=>gs,fetchTransaction:()=>ys,getAccount:()=>Hs.D,getBalance:()=>Jn.s,getBlock:()=>$s,getBlockNumber:()=>_n,getBlockTransactionCount:()=>Ms,getBytecode:()=>Gs,getChainId:()=>qs,getChains:()=>Fs,getClient:()=>ge,getConnections:()=>er,getConnectorClient:()=>Ot.e,getConnectors:()=>zs,getEnsAddress:()=>nr.O,getEnsAvatar:()=>rr.r,getEnsName:()=>sr.w,getEnsResolver:()=>ir,getEnsText:()=>Ws,getFeeHistory:()=>Ys,getGasPrice:()=>Xs,getProof:()=>_s,getPublicClient:()=>ds,getStorageAt:()=>$i,getToken:()=>gs,getTransaction:()=>ys,getTransactionConfirmations:()=>Mi,getTransactionCount:()=>Gi,getTransactionReceipt:()=>qi,getWalletClient:()=>na,http:()=>ka.d,hydrate:()=>La,injected:()=>Ba.L,mock:()=>qn,multicall:()=>ra.A,noopStorage:()=>Ts.w,normalizeChainId:()=>Wa,parseCookie:()=>zn,prepareTransactionRequest:()=>sa.Z,readContract:()=>oa.L,readContracts:()=>bn.J,reconnect:()=>ws.G,sendTransaction:()=>ia.T,serialize:()=>Ka.q,signMessage:()=>aa.l,signTypedData:()=>ca,simulateContract:()=>ua.a,switchAccount:()=>fa,switchChain:()=>vs.c,switchNetwork:()=>vs.c,unstable_connector:()=>$a,verifyMessage:()=>la,verifyTypedData:()=>da,version:()=>Ya.i,waitForTransaction:()=>xs.e,waitForTransactionReceipt:()=>xs.e,watchAccount:()=>ha.u,watchBlockNumber:()=>ya,watchBlocks:()=>ga,watchChainId:()=>pa,watchClient:()=>ma,watchConnections:()=>ba,watchConnectors:()=>wa.f,watchContractEvent:()=>va,watchPendingTransactions:()=>xa,watchPublicClient:()=>Ea,webSocket:()=>Ua,writeContract:()=>Ca.n});var ne={};g.r(ne),g.d(ne,{dQ:()=>Ve,ci:()=>yt,bytesToNumberBE:()=>dt,ty:()=>Fe,eV:()=>St,n$:()=>Lr,ql:()=>X,Wd:()=>Zr,hexToBytes:()=>pt,tL:()=>mt,S5:()=>ze,FF:()=>At});var C=g(49671),re=g(19934),U=g(77922);function Zs(t,e){return se.apply(this,arguments)}function se(){return(se=(0,C.Z)(function*(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return(0,U.s)(s,re.R,"call")(r)})).apply(this,arguments)}var Rs=g(61245),Wn=g(94581),Kn=g(72694);function Yn(t,e){const{abi:n,args:r,bytecode:s,...o}=e,i=(0,Wn.w)({abi:n,args:r,bytecode:s});return(0,Kn.T)(t,{...o,data:i})}var Ot=g(53796);function Ls(t,e){return oe.apply(this,arguments)}function oe(){return(oe=(0,C.Z)(function*(t,e){const{account:n,chainId:r,connector:s,...o}=e;let i;return i="object"==typeof n&&"local"===n.type?t.getClient({chainId:r}):yield(0,Ot.e)(t,{account:n,chainId:r,connector:s}),yield(0,U.s)(i,Yn,"deployContract")({...o,...n?{account:n}:{},chain:r?{id:r}:null})})).apply(this,arguments)}var Ds=g(3584),Os=g(53750),Ct=g(24102),Xn=g(49464),ie=g(35138);function Us(t){return ae.apply(this,arguments)}function ae(){return(ae=(0,C.Z)(function*(t,e={}){const{chainId:n,formatUnits:r="gwei",...s}=e,o=t.getClient({chainId:n}),i=(0,U.s)(o,Xn.X,"estimateFeesPerGas"),{gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u}=yield i({...s,chain:o.chain}),l=(0,ie.W)(r);return{formatted:{gasPrice:a?(0,Ct.b)(a,l):void 0,maxFeePerGas:c?(0,Ct.b)(c,l):void 0,maxPriorityFeePerGas:u?(0,Ct.b)(u,l):void 0},gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u}})).apply(this,arguments)}var Qn=g(58008);function ks(t){return ce.apply(this,arguments)}function ce(){return(ce=(0,C.Z)(function*(t,e={}){const{chainId:n}=e,r=t.getClient({chainId:n});return(0,U.s)(r,Qn._,"estimateMaxPriorityFeePerGas")({chain:r.chain})})).apply(this,arguments)}var Hs=g(31011),Jn=g(97819),Ut=g(42562);function $s(t){return ue.apply(this,arguments)}function ue(){return(ue=(0,C.Z)(function*(t,e={}){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return{...yield(0,U.s)(s,Ut.Q,"getBlock")(r),chainId:s.chain.id}})).apply(this,arguments)}var Bt=g(38423);function _n(t,e={}){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return(0,U.s)(s,Bt.z,"getBlockNumber")(r)}var nt=g(29415),O=g(74439);function tr(t){return fe.apply(this,arguments)}function fe(){return(fe=(0,C.Z)(function*(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const s=void 0!==n?(0,O.eC)(n):void 0;let o;return o=e?yield t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):yield t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),(0,nt.ly)(o)})).apply(this,arguments)}function Ms(t,e={}){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return(0,U.s)(s,tr,"getBlockTransactionCount")(r)}function kt(t,e){return le.apply(this,arguments)}function le(){return(le=(0,C.Z)(function*(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=void 0!==n?(0,O.eC)(n):void 0,o=yield t.request({method:"eth_getCode",params:[e,s||r]},{dedupe:!!s});if("0x"!==o)return o})).apply(this,arguments)}function Gs(t,e){return de.apply(this,arguments)}function de(){return(de=(0,C.Z)(function*(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return(0,U.s)(s,kt,"getBytecode")(r)})).apply(this,arguments)}function qs(t){return t.state.chainId}var Tt=g(95482);let he=[];function Fs(t){const e=t.chains;return(0,Tt.v)(he,e)?he:(he=e,e)}function ge(t,e={}){let n;try{n=t.getClient(e)}catch{}return n}let Ht=[];function er(t){const e=[...t.state.connections.values()];return"reconnecting"===t.state.status||(0,Tt.v)(Ht,e)?Ht:(Ht=e,e)}let ye=[];function zs(t){const e=t.connectors;return(0,Tt.v)(ye,e)?ye:(ye=e,e)}var nr=g(9059),rr=g(31086),sr=g(32766),Vs=g(91849),js=g(67153),H=g(14637),pe=g(68347);function or(t,e){return me.apply(this,arguments)}function me(){return(me=(0,C.Z)(function*(t,{blockNumber:e,blockTag:n,name:r,universalResolverAddress:s}){let o=s;if(!o){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=(0,Vs.L)({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const[i]=yield(0,H.s)(t,pe.L,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,O.NC)((0,js.T)(r))],blockNumber:e,blockTag:n});return i})).apply(this,arguments)}function ir(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return(0,U.s)(s,or,"getEnsResolver")(r)}var ar=g(51180);function Ws(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return(0,U.s)(s,ar.g,"getEnsText")(r)}function cr(t,e){return be.apply(this,arguments)}function be(){return(be=(0,C.Z)(function*(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=n?(0,O.eC)(n):void 0;return function Ks(t){return{baseFeePerGas:t.baseFeePerGas.map(e=>BigInt(e)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:t.reward?.map(e=>e.map(n=>BigInt(n)))}}(yield t.request({method:"eth_feeHistory",params:[(0,O.eC)(e),o||r,s]},{dedupe:!!o}))})).apply(this,arguments)}function Ys(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return(0,U.s)(s,cr,"getFeeHistory")(r)}var ur=g(85742);function Xs(t,e={}){const{chainId:n}=e,r=t.getClient({chainId:n});return(0,U.s)(r,ur.o,"getGasPrice")({})}function Qs(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function fr(t,e){return we.apply(this,arguments)}function we(){return(we=(0,C.Z)(function*(t,{address:e,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",i=void 0!==n?(0,O.eC)(n):void 0;return function Js(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?(0,nt.ly)(t.nonce):void 0,storageProof:t.storageProof?Qs(t.storageProof):void 0}}(yield t.request({method:"eth_getProof",params:[e,s,i||o]}))})).apply(this,arguments)}function _s(t,e){return ve.apply(this,arguments)}function ve(){return(ve=(0,C.Z)(function*(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return(0,U.s)(s,fr,"getProof")(r)})).apply(this,arguments)}var to=g(4257),eo=g(69632),no=g(28971);function $t(t,{method:e}){const n={};return"fallback"===t.transport.type&&t.transport.onResponse?.(({method:r,response:s,status:o,transport:i})=>{"success"===o&&e===r&&(n[s]=i.request)}),r=>n[r]||t.request}function xe(){return(xe=(0,C.Z)(function*(t){const e=$t(t,{method:"eth_newBlockFilter"}),n=yield t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}})).apply(this,arguments)}var F=g(76577),lr=g(32618);class so extends lr.G{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}var Ee=g(9427),_=g(28171),dr=g(48755),Mt=g(62910),hr=g(6057),gr=g(30930);const yr="/docs/contract/encodeEventTopics";function It(t){const{abi:e,eventName:n,args:r}=t;let s=e[0];if(n){const c=(0,gr.mE)({abi:e,name:n});if(!c)throw new F.mv(n,{docsPath:yr});s=c}if("event"!==s.type)throw new F.mv(void 0,{docsPath:yr});const o=(0,hr.t)(s),i=(0,dr.n)(o);let a=[];if(r&&"inputs"in s){const c=s.inputs?.filter(l=>"indexed"in l&&l.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(l=>r[l.name])??[]:[];u.length>0&&(a=c?.map((l,f)=>Array.isArray(u[f])?u[f].map((m,x)=>pr({param:l,value:u[f][x]})):u[f]?pr({param:l,value:u[f]}):null)??[])}return[i,...a]}function pr({param:t,value:e}){if("string"===t.type||"bytes"===t.type)return(0,_.w)((0,Ee.O0)(e));if("tuple"===t.type||t.type.match(/^(.*)\[(\d+)?\]$/))throw new so(t.type);return(0,Mt.E)([t],[e])}function mr(t,e){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,C.Z)(function*(t,e){const{address:n,abi:r,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=e,u=$t(t,{method:"eth_newFilter"}),l=o?It({abi:r,args:s,eventName:o}):void 0,f=yield t.request({method:"eth_newFilter",params:[{address:n,fromBlock:"bigint"==typeof i?(0,O.eC)(i):i,toBlock:"bigint"==typeof c?(0,O.eC)(c):c,topics:l}]});return{abi:r,args:s,eventName:o,id:f,request:u(f),strict:!!a,type:"event"}})).apply(this,arguments)}function br(t){return Be.apply(this,arguments)}function Be(){return(Be=(0,C.Z)(function*(t,{address:e,args:n,event:r,events:s,fromBlock:o,strict:i,toBlock:a}={}){const c=s??(r?[r]:void 0),u=$t(t,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap(x=>It({abi:[x],eventName:x.name,args:n}))],r&&(l=l[0]));const f=yield t.request({method:"eth_newFilter",params:[{address:e,fromBlock:"bigint"==typeof o?(0,O.eC)(o):o,toBlock:"bigint"==typeof a?(0,O.eC)(a):a,...l.length?{topics:l}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:f,request:u(f),strict:!!i,toBlock:a,type:"event"}})).apply(this,arguments)}function wr(t){return Te.apply(this,arguments)}function Te(){return(Te=(0,C.Z)(function*(t){const e=$t(t,{method:"eth_newPendingTransactionFilter"}),n=yield t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}})).apply(this,arguments)}var Ie=g(30277),oo=g(44966),io=g(50660),vr=g(53227);function Se(){return(Se=(0,C.Z)(function*(t,e){const{abi:n,address:r,args:s,functionName:o,...i}=e,a=(0,oo.R)({abi:n,args:s,functionName:o});try{return yield(0,H.s)(t,vr.Q,"estimateGas")({data:a,to:r,...i})}catch(c){const u=i.account?(0,Ie.T)(i.account):void 0;throw(0,io.S)(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u?.address})}})).apply(this,arguments)}var co=g(77247);function Ae(){return(Ae=(0,C.Z)(function*(t){const e=yield t.request({method:"eth_blobBaseFee"});return BigInt(e)})).apply(this,arguments)}var Ne=g(14229),Gt=g(84018),fo=g(52380),xr=g(5383);const Er="/docs/contract/decodeEventLog";function Pe(t){const{abi:e,data:n,strict:r,topics:s}=t,o=r??!0,[i,...a]=s;if(!i)throw new F.FM({docsPath:Er});const c=e.find(d=>"event"===d.type&&i===(0,dr.n)((0,hr.t)(d)));if(!c||!("name"in c)||"event"!==c.type)throw new F.lC(i,{docsPath:Er});const{name:u,inputs:l}=c,f=l?.some(d=>!("name"in d&&d.name));let m=f?[]:{};const x=l.filter(d=>"indexed"in d&&d.indexed);for(let d=0;d<x.length;d++){const h=x[d],y=a[d];if(!y)throw new F.Gy({abiItem:c,param:h});m[f?d:h.name||d]=lo({param:h,value:y})}const b=l.filter(d=>!("indexed"in d&&d.indexed));if(b.length>0)if(n&&"0x"!==n)try{const d=(0,xr.r)(b,n);if(d)if(f)m=[...m,...d];else for(let h=0;h<b.length;h++)m[b[h].name]=d[h]}catch(d){if(o)throw d instanceof F.xB||d instanceof fo.lQ?new F.SM({abiItem:c,data:n,params:b,size:(0,Gt.d)(n)}):d}else if(o)throw new F.SM({abiItem:c,data:"0x",params:b,size:0});return{eventName:u,args:Object.values(m).length>0?m:void 0}}function lo({param:t,value:e}){return"string"===t.type||"bytes"===t.type||"tuple"===t.type||t.type.match(/^(.*)\[(\d+)?\]$/)?e:((0,xr.r)([t],e)||[])[0]}function Ze({abi:t,eventName:e,logs:n,strict:r=!0}){return n.map(s=>{try{const o=Pe({...s,abi:t,strict:r});return e&&!e.includes(o.eventName)?null:{...o,...s}}catch(o){let i,a;if(o instanceof F.lC)return null;if(o instanceof F.SM||o instanceof F.Gy){if(r)return null;i=o.abiItem.name,a=o.abiItem.inputs?.some(c=>!("name"in c&&c.name))}return{...s,args:a?[]:{},eventName:i}}}).filter(Boolean)}var lt=g(70986);function Re(t){return Le.apply(this,arguments)}function Le(){return(Le=(0,C.Z)(function*(t,{address:e,blockHash:n,fromBlock:r,toBlock:s,event:o,events:i,args:a,strict:c}={}){const u=c??!1,l=i??(o?[o]:void 0);let m,f=[];l&&(f=[l.flatMap(d=>It({abi:[d],eventName:d.name,args:a}))],o&&(f=f[0])),m=n?yield t.request({method:"eth_getLogs",params:[{address:e,topics:f,blockHash:n}]}):yield t.request({method:"eth_getLogs",params:[{address:e,topics:f,fromBlock:"bigint"==typeof r?(0,O.eC)(r):r,toBlock:"bigint"==typeof s?(0,O.eC)(s):s}]});const x=m.map(b=>(0,lt.U)(b));return l?Ze({abi:l,logs:x,strict:u}):x})).apply(this,arguments)}function Cr(t,e){return De.apply(this,arguments)}function De(){return(De=(0,C.Z)(function*(t,e){const{abi:n,address:r,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:u}=e,l=i?(0,gr.mE)({abi:n,name:i}):void 0,f=l?void 0:n.filter(m=>"event"===m.type);return(0,H.s)(t,Re,"getLogs")({address:r,args:s,blockHash:o,event:l,events:f,fromBlock:a,toBlock:c,strict:u})})).apply(this,arguments)}class ho extends lr.G{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip712DomainNotFoundError"})}}function Oe(){return(Oe=(0,C.Z)(function*(t,e){const{address:n,factory:r,factoryData:s}=e;try{const[o,i,a,c,u,l,f]=yield(0,H.s)(t,pe.L,"readContract")({abi:yo,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:u,salt:l},extensions:f,fields:o}}catch(o){const i=o;throw"ContractFunctionExecutionError"===i.name&&"ContractFunctionZeroDataError"===i.cause.name?new ho({address:n}):i}})).apply(this,arguments)}const yo=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function qt(t,e){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,C.Z)(function*(t,{filter:e}){const n="strict"in e&&e.strict,r=yield e.request({method:"eth_getFilterChanges",params:[e.id]});if("string"==typeof r[0])return r;const s=r.map(o=>(0,lt.U)(o));return"abi"in e&&e.abi?Ze({abi:e.abi,logs:s,strict:n}):s})).apply(this,arguments)}function ke(){return(ke=(0,C.Z)(function*(t,{filter:e}){const n=e.strict??!1,s=(yield e.request({method:"eth_getFilterLogs",params:[e.id]})).map(o=>(0,lt.U)(o));return e.abi?Ze({abi:e.abi,logs:s,strict:n}):s})).apply(this,arguments)}function Br(t,e){return He.apply(this,arguments)}function He(){return(He=(0,C.Z)(function*(t,{address:e,blockNumber:n,blockTag:r="latest",slot:s}){const o=void 0!==n?(0,O.eC)(n):void 0;return yield t.request({method:"eth_getStorageAt",params:[e,s,o||r]})})).apply(this,arguments)}var $e=g(98795);function Tr(t,e){return Me.apply(this,arguments)}function Me(){return(Me=(0,C.Z)(function*(t,{hash:e,transactionReceipt:n}){const[r,s]=yield Promise.all([(0,H.s)(t,Bt.z,"getBlockNumber")({}),e?(0,H.s)(t,$e.f,"getTransaction")({hash:e}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n})).apply(this,arguments)}var Ir=g(85296),Sr=g(45588),mo=g(3709),bo=g(51711);function Ft(t,e){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,C.Z)(function*(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})})).apply(this,arguments)}const wo="\x19Ethereum Signed Message:\n";var qe=g(80770);function Ar(t,e){return(0,_.w)(function vo(t){const e="string"==typeof t?(0,O.$G)(t):"string"==typeof t.raw?t.raw:(0,O.ci)(t.raw),n=(0,O.$G)(`${wo}${(0,Gt.d)(e)}`);return(0,qe.zo)([n,e])}(t),e)}var xo=g(17627),Eo=g(51857),zt=g(28169);BigInt(0);const Vt=BigInt(1),Co=BigInt(2),jt=t=>t instanceof Uint8Array,Bo=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function yt(t){if(!jt(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=Bo[t[n]];return e}function Pr(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}function pt(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=2*r,o=t.slice(s,s+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");n[r]=i}return n}function dt(t){return Pr(yt(t))}function Fe(t){if(!jt(t))throw new Error("Uint8Array expected");return Pr(yt(Uint8Array.from(t).reverse()))}function mt(t,e){return pt(t.toString(16).padStart(2*e,"0"))}function ze(t,e){return mt(t,e).reverse()}function X(t,e,n){let r;if("string"==typeof e)try{r=pt(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else{if(!jt(e))throw new Error(`${t} must be hex string or Uint8Array`);r=Uint8Array.from(e)}const s=r.length;if("number"==typeof n&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function St(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!jt(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function Zr(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const Ve=t=>(Co<<BigInt(t-1))-Vt,je=t=>new Uint8Array(t),Rr=t=>Uint8Array.from(t);function Lr(t,e,n){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=je(t),s=je(t),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},a=(...f)=>n(s,r,...f),c=(f=je())=>{s=a(Rr([0]),f),r=a(),0!==f.length&&(s=a(Rr([1]),f),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const m=[];for(;f<e;){r=a();const x=r.slice();m.push(x),f+=r.length}return St(...m)};return(f,m)=>{let x;for(i(),c(f);!(x=m(u()));)c();return i(),x}}const Io={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function At(t,e,n={}){const r=(s,o,i)=>{const a=Io[o];if("function"!=typeof a)throw new Error(`Invalid validator "${o}", expected function`);const c=t[s];if(!(i&&void 0===c||a(c,t)))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${o}`)};for(const[s,o]of Object.entries(e))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return t}var We=g(37812);const Dr="0x6492649264926492649264926492649264926492649264926492649264926492";var Ao=g(28544);function Ke(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Ye(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Or(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ke(t.outputLen),Ke(t.blockLen)}function Nt(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Ur(t,e){Ye(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Xe="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Qe=t=>t instanceof Uint8Array,Je=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),tt=(t,e)=>t<<32-e|t>>>e;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Pt(t){if("string"==typeof t&&(t=function Do(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),!Qe(t))throw new Error("expected Uint8Array, got "+typeof t);return t}class kr{clone(){return this._cloneInto()}}({}).toString;function ko(t){const e=r=>t().update(Pt(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Ho(t=32){if(Xe&&"function"==typeof Xe.getRandomValues)return Xe.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class Mo extends kr{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Je(this.buffer)}update(e){Nt(this);const{view:n,buffer:r,blockLen:s}=this,o=(e=Pt(e)).length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a!==s)r.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0);else{const c=Je(e);for(;s<=o-i;i+=s)this.process(c,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Nt(this),Ur(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(r,0),i=0);for(let f=i;f<s;f++)n[f]=0;(function $o(t,e,n,r){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,u=r?0:4;t.setUint32(e+c,i,r),t.setUint32(e+u,a,r)})(r,s-8,BigInt(8*this.length),o),this.process(r,0);const a=Je(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return e.length=s,e.pos=a,e.finished=o,e.destroyed=i,s%n&&e.buffer.set(r),e}}const Go=(t,e,n)=>t&e^~t&n,qo=(t,e,n)=>t&e^t&n^e&n,Fo=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),st=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ot=new Uint32Array(64);class zo extends Mo{constructor(){super(64,32,8,!1),this.A=0|st[0],this.B=0|st[1],this.C=0|st[2],this.D=0|st[3],this.E=0|st[4],this.F=0|st[5],this.G=0|st[6],this.H=0|st[7]}get(){const{A:e,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[e,n,r,s,o,i,a,c]}set(e,n,r,s,o,i,a,c){this.A=0|e,this.B=0|n,this.C=0|r,this.D=0|s,this.E=0|o,this.F=0|i,this.G=0|a,this.H=0|c}process(e,n){for(let f=0;f<16;f++,n+=4)ot[f]=e.getUint32(n,!1);for(let f=16;f<64;f++){const m=ot[f-15],x=ot[f-2],b=tt(m,7)^tt(m,18)^m>>>3,d=tt(x,17)^tt(x,19)^x>>>10;ot[f]=d+ot[f-7]+b+ot[f-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){const x=l+(tt(a,6)^tt(a,11)^tt(a,25))+Go(a,c,u)+Fo[f]+ot[f]|0,d=(tt(r,2)^tt(r,13)^tt(r,22))+qo(r,s,o)|0;l=u,u=c,c=a,a=i+x|0,i=o,o=s,s=r,r=x+d|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,o,i,a,c,u,l)}roundClean(){ot.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Vo=ko(()=>new zo),G=BigInt(0),R=BigInt(1),it=BigInt(2),jo=BigInt(3),tn=BigInt(4),Hr=BigInt(5),$r=BigInt(8);BigInt(9),BigInt(16);function z(t,e){const n=t%e;return n>=G?n:e+n}function Yo(t,e,n){if(n<=G||e<G)throw new Error("Expected power/modulo > 0");if(n===R)return G;let r=R;for(;e>G;)e&R&&(r=r*t%n),t=t*t%n,e>>=R;return r}function K(t,e,n){let r=t;for(;e-- >G;)r*=r,r%=n;return r}function Wt(t,e){if(t===G||e<=G)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=z(t,e),r=e,s=G,o=R,i=R,a=G;for(;n!==G;){const u=r/n,l=r%n,f=s-i*u,m=o-a*u;r=n,n=l,s=i,o=a,i=f,a=m}if(r!==R)throw new Error("invert: does not exist");return z(s,e)}function Qo(t){if(t%tn===jo){const e=(t+R)/tn;return function(r,s){const o=r.pow(s,e);if(!r.eql(r.sqr(o),s))throw new Error("Cannot find square root");return o}}if(t%$r===Hr){const e=(t-Hr)/$r;return function(r,s){const o=r.mul(s,it),i=r.pow(o,e),a=r.mul(s,i),c=r.mul(r.mul(a,it),i),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return function Xo(t){const e=(t-R)/it;let n,r,s;for(n=t-R,r=0;n%it===G;n/=it,r++);for(s=it;s<t&&Yo(s,e,t)!==t-R;s++);if(1===r){const i=(t+R)/tn;return function(c,u){const l=c.pow(u,i);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const o=(n+R)/it;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),n),f=a.pow(c,o),m=a.pow(c,n);for(;!a.eql(m,a.ONE);){if(a.eql(m,a.ZERO))return a.ZERO;let x=1;for(let d=a.sqr(m);x<u&&!a.eql(d,a.ONE);x++)d=a.sqr(d);const b=a.pow(l,R<<BigInt(u-x-1));l=a.sqr(b),f=a.mul(f,b),m=a.mul(m,l),u=x}return f}}(t)}const Jo=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function en(t,e){const n=void 0!==e?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Mr(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Gr(t){const e=Mr(t);return e+Math.ceil(e/2)}class qr extends kr{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Or(e);const r=Pt(n);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?e.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=e.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(e){return Nt(this),this.iHash.update(e),this}digestInto(e){Nt(this),Ye(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return e.finished=s,e.destroyed=o,e.blockLen=i,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Fr=(t,e,n)=>new qr(t,e).update(n).digest();Fr.create=(t,e)=>new qr(t,e);const si=BigInt(0),nn=BigInt(1);function zr(t){return function _o(t){return At(t,Jo.reduce((r,s)=>(r[s]="function",r),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(t.Fp),At(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...en(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const{bytesToNumberBE:ai,hexToBytes:ci}=ne,ht={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=ht;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(128&r[0])throw new e("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new e("Invalid signature integer: unnecessary leading zero");return{d:ai(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=ht,n="string"==typeof t?ci(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:o}=ht._parseInt(n.subarray(2)),{d:i,l:a}=ht._parseInt(o);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:i}},hexFromSig(t){const e=u=>8&Number.parseInt(u[0],16)?"00"+u:u,n=u=>{const l=u.toString(16);return 1&l.length?`0${l}`:l},r=e(n(t.s)),s=e(n(t.r)),o=r.length/2,i=s.length/2,a=n(o),c=n(i);return`30${n(i+o+4)}02${c}${s}02${a}${r}`}},Q=BigInt(0),$=BigInt(1),Kt=(BigInt(2),BigInt(3));BigInt(4);function ui(t){const e=function ii(t){const e=zr(t);At(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:n}=e,r=e.toBytes||((b,d,h)=>{const y=d.toAffine();return St(Uint8Array.from([4]),n.toBytes(y.x),n.toBytes(y.y))}),s=e.fromBytes||(b=>{const d=b.subarray(1);return{x:n.fromBytes(d.subarray(0,n.BYTES)),y:n.fromBytes(d.subarray(n.BYTES,2*n.BYTES))}});function o(b){const{a:d,b:h}=e,y=n.sqr(b),w=n.mul(y,b);return n.add(n.add(w,n.mul(b,d)),h)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function i(b){return"bigint"==typeof b&&Q<b&&b<e.n}function a(b){if(!i(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(b){const{allowedPrivateKeyLengths:d,nByteLength:h,wrapPrivateKey:y,n:w}=e;if(d&&"bigint"!=typeof b){if(b instanceof Uint8Array&&(b=yt(b)),"string"!=typeof b||!d.includes(b.length))throw new Error("Invalid key");b=b.padStart(2*h,"0")}let p;try{p="bigint"==typeof b?b:dt(X("private key",b,h))}catch{throw new Error(`private key must be ${h} bytes, hex or bigint, not ${typeof b}`)}return y&&(p=z(p,w)),a(p),p}const u=new Map;function l(b){if(!(b instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(d,h,y){if(this.px=d,this.py=h,this.pz=y,null==d||!n.isValid(d))throw new Error("x required");if(null==h||!n.isValid(h))throw new Error("y required");if(null==y||!n.isValid(y))throw new Error("z required")}static fromAffine(d){const{x:h,y}=d||{};if(!d||!n.isValid(h)||!n.isValid(y))throw new Error("invalid affine point");if(d instanceof f)throw new Error("projective point not allowed");const w=p=>n.eql(p,n.ZERO);return w(h)&&w(y)?f.ZERO:new f(h,y,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(d){const h=n.invertBatch(d.map(y=>y.pz));return d.map((y,w)=>y.toAffine(h[w])).map(f.fromAffine)}static fromHex(d){const h=f.fromAffine(s(X("pointHex",d)));return h.assertValidity(),h}static fromPrivateKey(d){return f.BASE.multiply(c(d))}_setWindowSize(d){this._WINDOW_SIZE=d,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:d,y:h}=this.toAffine();if(!n.isValid(d)||!n.isValid(h))throw new Error("bad point: x or y not FE");const y=n.sqr(h),w=o(d);if(!n.eql(y,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:d}=this.toAffine();if(n.isOdd)return!n.isOdd(d);throw new Error("Field doesn't support isOdd")}equals(d){l(d);const{px:h,py:y,pz:w}=this,{px:p,py:v,pz:T}=d,E=n.eql(n.mul(h,T),n.mul(p,w)),B=n.eql(n.mul(y,T),n.mul(v,w));return E&&B}negate(){return new f(this.px,n.neg(this.py),this.pz)}double(){const{a:d,b:h}=e,y=n.mul(h,Kt),{px:w,py:p,pz:v}=this;let T=n.ZERO,E=n.ZERO,B=n.ZERO,S=n.mul(w,w),L=n.mul(p,p),P=n.mul(v,v),Z=n.mul(w,p);return Z=n.add(Z,Z),B=n.mul(w,v),B=n.add(B,B),T=n.mul(d,B),E=n.mul(y,P),E=n.add(T,E),T=n.sub(L,E),E=n.add(L,E),E=n.mul(T,E),T=n.mul(Z,T),B=n.mul(y,B),P=n.mul(d,P),Z=n.sub(S,P),Z=n.mul(d,Z),Z=n.add(Z,B),B=n.add(S,S),S=n.add(B,S),S=n.add(S,P),S=n.mul(S,Z),E=n.add(E,S),P=n.mul(p,v),P=n.add(P,P),S=n.mul(P,Z),T=n.sub(T,S),B=n.mul(P,L),B=n.add(B,B),B=n.add(B,B),new f(T,E,B)}add(d){l(d);const{px:h,py:y,pz:w}=this,{px:p,py:v,pz:T}=d;let E=n.ZERO,B=n.ZERO,S=n.ZERO;const L=e.a,P=n.mul(e.b,Kt);let Z=n.mul(h,p),M=n.mul(y,v),V=n.mul(w,T),J=n.add(h,y),I=n.add(p,v);J=n.mul(J,I),I=n.add(Z,M),J=n.sub(J,I),I=n.add(h,w);let A=n.add(p,T);return I=n.mul(I,A),A=n.add(Z,V),I=n.sub(I,A),A=n.add(y,w),E=n.add(v,T),A=n.mul(A,E),E=n.add(M,V),A=n.sub(A,E),S=n.mul(L,I),E=n.mul(P,V),S=n.add(E,S),E=n.sub(M,S),S=n.add(M,S),B=n.mul(E,S),M=n.add(Z,Z),M=n.add(M,Z),V=n.mul(L,V),I=n.mul(P,I),M=n.add(M,V),V=n.sub(Z,V),V=n.mul(L,V),I=n.add(I,V),Z=n.mul(M,I),B=n.add(B,Z),Z=n.mul(A,I),E=n.mul(J,E),E=n.sub(E,Z),Z=n.mul(J,M),S=n.mul(A,S),S=n.add(S,Z),new f(E,B,S)}subtract(d){return this.add(d.negate())}is0(){return this.equals(f.ZERO)}wNAF(d){return x.wNAFCached(this,u,d,h=>{const y=n.invertBatch(h.map(w=>w.pz));return h.map((w,p)=>w.toAffine(y[p])).map(f.fromAffine)})}multiplyUnsafe(d){const h=f.ZERO;if(d===Q)return h;if(a(d),d===$)return this;const{endo:y}=e;if(!y)return x.unsafeLadder(this,d);let{k1neg:w,k1:p,k2neg:v,k2:T}=y.splitScalar(d),E=h,B=h,S=this;for(;p>Q||T>Q;)p&$&&(E=E.add(S)),T&$&&(B=B.add(S)),S=S.double(),p>>=$,T>>=$;return w&&(E=E.negate()),v&&(B=B.negate()),B=new f(n.mul(B.px,y.beta),B.py,B.pz),E.add(B)}multiply(d){a(d);let y,w,h=d;const{endo:p}=e;if(p){const{k1neg:v,k1:T,k2neg:E,k2:B}=p.splitScalar(h);let{p:S,f:L}=this.wNAF(T),{p:P,f:Z}=this.wNAF(B);S=x.constTimeNegate(v,S),P=x.constTimeNegate(E,P),P=new f(n.mul(P.px,p.beta),P.py,P.pz),y=S.add(P),w=L.add(Z)}else{const{p:v,f:T}=this.wNAF(h);y=v,w=T}return f.normalizeZ([y,w])[0]}multiplyAndAddUnsafe(d,h,y){const w=f.BASE,p=(T,E)=>E!==Q&&E!==$&&T.equals(w)?T.multiply(E):T.multiplyUnsafe(E),v=p(this,h).add(p(d,y));return v.is0()?void 0:v}toAffine(d){const{px:h,py:y,pz:w}=this,p=this.is0();null==d&&(d=p?n.ONE:n.inv(w));const v=n.mul(h,d),T=n.mul(y,d),E=n.mul(w,d);if(p)return{x:n.ZERO,y:n.ZERO};if(!n.eql(E,n.ONE))throw new Error("invZ was invalid");return{x:v,y:T}}isTorsionFree(){const{h:d,isTorsionFree:h}=e;if(d===$)return!0;if(h)return h(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:d,clearCofactor:h}=e;return d===$?this:h?h(f,this):this.multiplyUnsafe(e.h)}toRawBytes(d=!0){return this.assertValidity(),r(f,this,d)}toHex(d=!0){return yt(this.toRawBytes(d))}}f.BASE=new f(e.Gx,e.Gy,n.ONE),f.ZERO=new f(n.ZERO,n.ONE,n.ZERO);const m=e.nBitLength,x=function oi(t,e){const n=(s,o)=>{const i=o.negate();return s?i:o},r=s=>({windows:Math.ceil(e/s)+1,windowSize:2**(s-1)});return{constTimeNegate:n,unsafeLadder(s,o){let i=t.ZERO,a=s;for(;o>si;)o&nn&&(i=i.add(a)),a=a.double(),o>>=nn;return i},precomputeWindow(s,o){const{windows:i,windowSize:a}=r(o),c=[];let u=s,l=u;for(let f=0;f<i;f++){l=u,c.push(l);for(let m=1;m<a;m++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(s,o,i){const{windows:a,windowSize:c}=r(s);let u=t.ZERO,l=t.BASE;const f=BigInt(2**s-1),m=2**s,x=BigInt(s);for(let b=0;b<a;b++){const d=b*c;let h=Number(i&f);i>>=x,h>c&&(h-=m,i+=nn);const y=d,w=d+Math.abs(h)-1,p=b%2!=0,v=h<0;0===h?l=l.add(n(p,o[y])):u=u.add(n(v,o[w]))}return{p:u,f:l}},wNAFCached(s,o,i,a){const c=s._WINDOW_SIZE||1;let u=o.get(s);return u||(u=this.precomputeWindow(s,c),1!==c&&o.set(s,a(u))),this.wNAF(c,u,i)}}}(f,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:i}}function li(t){const e=function fi(t){const e=zr(t);return At(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:n,n:r}=e,s=n.BYTES+1,o=2*n.BYTES+1;function a(I){return z(I,r)}function c(I){return Wt(I,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:f,isWithinCurveOrder:m}=ui({...e,toBytes(I,A,N){const k=A.toAffine(),D=n.toBytes(k.x),q=St;return N?q(Uint8Array.from([A.hasEvenY()?2:3]),D):q(Uint8Array.from([4]),D,n.toBytes(k.y))},fromBytes(I){const A=I.length,N=I[0],k=I.subarray(1);if(A!==s||2!==N&&3!==N){if(A===o&&4===N){return{x:n.fromBytes(k.subarray(0,n.BYTES)),y:n.fromBytes(k.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${A} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}{const D=dt(k);if(!function i(I){return Q<I&&I<n.ORDER}(D))throw new Error("Point is not on curve");const q=f(D);let j=n.sqrt(q);return 1==(1&N)!==((j&$)===$)&&(j=n.neg(j)),{x:D,y:j}}}}),x=I=>yt(mt(I,e.nByteLength));function b(I){return I>r>>$}const h=(I,A,N)=>dt(I.slice(A,N));class y{constructor(A,N,k){this.r=A,this.s=N,this.recovery=k,this.assertValidity()}static fromCompact(A){const N=e.nByteLength;return A=X("compactSignature",A,2*N),new y(h(A,0,N),h(A,N,2*N))}static fromDER(A){const{r:N,s:k}=ht.toSig(X("DER",A));return new y(N,k)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(A){return new y(this.r,this.s,A)}recoverPublicKey(A){const{r:N,s:k,recovery:D}=this,q=B(X("msgHash",A));if(null==D||![0,1,2,3].includes(D))throw new Error("recovery id invalid");const j=2===D||3===D?N+e.n:N;if(j>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const W=1&D?"03":"02",ct=u.fromHex(W+x(j)),ut=c(j),vt=a(-q*ut),Dt=a(k*ut),ft=u.BASE.multiplyAndAddUnsafe(ct,vt,Dt);if(!ft)throw new Error("point at infinify");return ft.assertValidity(),ft}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return pt(this.toDERHex())}toDERHex(){return ht.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return pt(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const w={isValidPrivateKey(I){try{return l(I),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const I=Gr(e.n);return function ri(t,e,n=!1){const r=t.length,s=Mr(e),o=Gr(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const a=z(n?dt(t):Fe(t),e-R)+R;return n?ze(a,s):mt(a,s)}(e.randomBytes(I),e.n)},precompute:(I=8,A=u.BASE)=>(A._setWindowSize(I),A.multiply(BigInt(3)),A)};function v(I){const A=I instanceof Uint8Array,N="string"==typeof I,k=(A||N)&&I.length;return A?k===s||k===o:N?k===2*s||k===2*o:I instanceof u}const E=e.bits2int||function(I){const A=dt(I),N=8*I.length-e.nBitLength;return N>0?A>>BigInt(N):A},B=e.bits2int_modN||function(I){return a(E(I))},S=Ve(e.nBitLength);function L(I){if("bigint"!=typeof I)throw new Error("bigint expected");if(!(Q<=I&&I<S))throw new Error(`bigint expected < 2^${e.nBitLength}`);return mt(I,e.nByteLength)}function P(I,A,N=Z){if(["recovered","canonical"].some(gt=>gt in N))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:D}=e;let{lowS:q,prehash:j,extraEntropy:W}=N;null==q&&(q=!0),I=X("msgHash",I),j&&(I=X("prehashed msgHash",k(I)));const ct=B(I),ut=l(A),vt=[L(ut),L(ct)];if(null!=W){const gt=!0===W?D(n.BYTES):W;vt.push(X("extraEntropy",gt))}const Dt=St(...vt),ft=ct;return{seed:Dt,k2sig:function Vn(gt){const xt=E(gt);if(!m(xt))return;const As=c(xt),et=u.BASE.multiply(xt).toAffine(),Et=a(et.x);if(Et===Q)return;const ee=a(As*a(ft+Et*ut));if(ee===Q)return;let Ns=(et.x===Et?0:2)|Number(et.y&$),Ps=ee;return q&&b(ee)&&(Ps=function d(I){return b(I)?a(-I):I}(ee),Ns^=1),new y(Et,Ps,Ns)}}}const Z={lowS:e.lowS,prehash:!1},M={lowS:e.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function p(I,A=!0){return u.fromPrivateKey(I).toRawBytes(A)},getSharedSecret:function T(I,A,N=!0){if(v(I))throw new Error("first arg must be private key");if(!v(A))throw new Error("second arg must be public key");return u.fromHex(A).multiply(l(I)).toRawBytes(N)},sign:function V(I,A,N=Z){const{seed:k,k2sig:D}=P(I,A,N),q=e;return Lr(q.hash.outputLen,q.nByteLength,q.hmac)(k,D)},verify:function J(I,A,N,k=M){const D=I;if(A=X("msgHash",A),N=X("publicKey",N),"strict"in k)throw new Error("options.strict was renamed to lowS");const{lowS:q,prehash:j}=k;let W,ct;try{if("string"==typeof D||D instanceof Uint8Array)try{W=y.fromDER(D)}catch(et){if(!(et instanceof ht.Err))throw et;W=y.fromCompact(D)}else{if("object"!=typeof D||"bigint"!=typeof D.r||"bigint"!=typeof D.s)throw new Error("PARSE");{const{r:et,s:Et}=D;W=new y(et,Et)}}ct=u.fromHex(N)}catch(et){if("PARSE"===et.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(q&&W.hasHighS())return!1;j&&(A=e.hash(A));const{r:ut,s:vt}=W,Dt=B(A),ft=c(vt),Vn=a(Dt*ft),gt=a(ut*ft),xt=u.BASE.multiplyAndAddUnsafe(ct,Vn,gt)?.toAffine();return!!xt&&a(xt.x)===ut},ProjectivePoint:u,Signature:y,utils:w}}function hi(t){return{hash:t,hmac:(e,...n)=>Fr(t,e,function Oo(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!Qe(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}(...n)),randomBytes:Ho}}const Yt=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Xt=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),jr=BigInt(1),Qt=BigInt(2),Wr=(t,e)=>(t+e/Qt)/e;function Kr(t){const e=Yt,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,f=K(l,n,e)*l%e,m=K(f,n,e)*l%e,x=K(m,Qt,e)*u%e,b=K(x,s,e)*x%e,d=K(b,o,e)*b%e,h=K(d,a,e)*d%e,y=K(h,c,e)*h%e,w=K(y,a,e)*d%e,p=K(w,n,e)*l%e,v=K(p,i,e)*b%e,T=K(v,r,e)*u%e,E=K(T,Qt,e);if(!rn.eql(rn.sqr(E),t))throw new Error("Cannot find square root");return E}const rn=function ni(t,e,n=!1,r={}){if(t<=G)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:o}=en(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=Qo(t),a=Object.freeze({ORDER:t,BITS:s,BYTES:o,MASK:Ve(s),ZERO:G,ONE:R,create:c=>z(c,t),isValid:c=>{if("bigint"!=typeof c)throw new Error("Invalid field element: expected bigint, got "+typeof c);return G<=c&&c<t},is0:c=>c===G,isOdd:c=>(c&R)===R,neg:c=>z(-c,t),eql:(c,u)=>c===u,sqr:c=>z(c*c,t),add:(c,u)=>z(c+u,t),sub:(c,u)=>z(c-u,t),mul:(c,u)=>z(c*u,t),pow:(c,u)=>function ti(t,e,n){if(n<G)throw new Error("Expected power > 0");if(n===G)return t.ONE;if(n===R)return e;let r=t.ONE,s=e;for(;n>G;)n&R&&(r=t.mul(r,s)),s=t.sqr(s),n>>=R;return r}(a,c,u),div:(c,u)=>z(c*Wt(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Wt(c,t),sqrt:r.sqrt||(c=>i(a,c)),invertBatch:c=>function ei(t,e){const n=new Array(e.length),r=e.reduce((o,i,a)=>t.is0(i)?o:(n[a]=o,t.mul(o,i)),t.ONE),s=t.inv(r);return e.reduceRight((o,i,a)=>t.is0(i)?o:(n[a]=t.mul(o,n[a]),t.mul(o,i)),s),n}(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>n?ze(c,o):mt(c,o),fromBytes:c=>{if(c.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${c.length}`);return n?Fe(c):dt(c)}});return Object.freeze(a)}(Yt,void 0,void 0,{sqrt:Kr}),sn=function gi(t,e){const n=r=>li({...t,...hi(r)});return Object.freeze({...n(e),create:n})}({a:BigInt(0),b:BigInt(7),Fp:rn,n:Xt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Xt,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-jr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),a=Wr(o*t,e),c=Wr(-r*t,e);let u=z(t-a*n-c*s,e),l=z(-a*r-c*o,e);const f=u>i,m=l>i;if(f&&(u=e-u),m&&(l=e-l),u>i||l>i)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:m,k2:l}}}},Vo);BigInt(0);sn.ProjectivePoint;function ln(t,e){return dn.apply(this,arguments)}function dn(){return(dn=(0,C.Z)(function*(t,e){const{address:n,factory:r,factoryData:s,hash:o,signature:i,...a}=e,c=(0,We.v)(i)?i:"object"==typeof i&&"r"in i&&"s"in i?function wi({r:t,s:e,v:n,yParity:r}){const s=(()=>{if(0===r||1===r)return r;if(n&&(27n===n||28n===n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})();return`0x${new sn.Signature((0,nt.y_)(t),(0,nt.y_)(e)).toCompactHex()}${0===s?"1b":"1c"}`}(i):(0,O.ci)(i),u=yield(0,C.Z)(function*(){return!r&&!s||function No(t){return(0,Ao.p5)(t,-32)===Dr}(c)||(yield(0,H.s)(t,kt,"getCode")({address:n}))?c:function Po(t){const{address:e,data:n,signature:r}=t;return(0,qe.SM)([(0,Mt.E)([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,r]),Dr])}({address:r,data:s,signature:c})})();try{const{data:l}=yield(0,H.s)(t,re.R,"call")({data:(0,Wn.w)({abi:xo.$o,args:[n,o,u],bytecode:Eo.ST}),...a});return function So(t,e){return Zr((0,We.v)(t)?(0,Ee.O0)(t):t,(0,We.v)(e)?(0,Ee.O0)(e):e)}(l??"0x0","0x1")}catch(l){if(l instanceof zt.cg)return!1;throw l}})).apply(this,arguments)}function _r(t,e){return hn.apply(this,arguments)}function hn(){return(hn=(0,C.Z)(function*(t,{address:e,message:n,factory:r,factoryData:s,signature:o,...i}){return ln(t,{address:e,factory:r,factoryData:s,hash:Ar(n),signature:o,...i})})).apply(this,arguments)}var vi=g(78355),xi=g(32099);const Ei=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ci=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;var bt=g(30038);function ts(t){const{domain:e,message:n,primaryType:r,types:s}=t,o=(i,a)=>{for(const c of i){const{name:u,type:l}=c,f=a[u],m=l.match(Ci);if(m&&("number"==typeof f||"bigint"==typeof f)){const[d,h,y]=m;(0,O.eC)(f,{signed:"int"===h,size:Number.parseInt(y)/8})}if("address"===l&&"string"==typeof f&&!(0,xi.U)(f))throw new vi.b({address:f});const x=l.match(Ei);if(x){const[d,h]=x;if(h&&(0,Gt.d)(f)!==Number.parseInt(h))throw new F.KY({expectedSize:Number.parseInt(h),givenSize:(0,Gt.d)(f)})}const b=s[l];b&&o(b,f)}};s.EIP712Domain&&e&&o(s.EIP712Domain,e),"EIP712Domain"!==r&&o(s[r],n)}function gn({domain:t}){return["string"==typeof t?.name&&{name:"name",type:"string"},t?.version&&{name:"version",type:"string"},"number"==typeof t?.chainId&&{name:"chainId",type:"uint256"},t?.verifyingContract&&{name:"verifyingContract",type:"address"},t?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Ti(t){const{domain:e={},message:n,primaryType:r}=t,s={EIP712Domain:gn({domain:e}),...t.types};ts({domain:e,message:n,primaryType:r,types:s});const o=["0x1901"];return e&&o.push(function Ii({domain:t,types:e}){return es({data:t,primaryType:"EIP712Domain",types:e})}({domain:e,types:s})),"EIP712Domain"!==r&&o.push(es({data:n,primaryType:r,types:s})),(0,_.w)((0,qe.zo)(o))}function es({data:t,primaryType:e,types:n}){const r=ns({data:t,primaryType:e,types:n});return(0,_.w)(r)}function ns({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],s=[Si({primaryType:e,types:n})];for(const o of n[e]){const[i,a]=ss({types:n,name:o.name,type:o.type,value:t[o.name]});r.push(i),s.push(a)}return(0,Mt.E)(r,s)}function Si({primaryType:t,types:e}){const n=(0,O.NC)(function Ai({primaryType:t,types:e}){let n="";const r=rs({primaryType:t,types:e});r.delete(t);const s=[t,...Array.from(r).sort()];for(const o of s)n+=`${o}(${e[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}({primaryType:t,types:e}));return(0,_.w)(n)}function rs({primaryType:t,types:e},n=new Set){const s=t.match(/^\w*/u)?.[0];if(n.has(s)||void 0===e[s])return n;n.add(s);for(const o of e[s])rs({primaryType:o.type,types:e},n);return n}function ss({types:t,name:e,type:n,value:r}){if(void 0!==t[n])return[{type:"bytes32"},(0,_.w)(ns({data:r,primaryType:n,types:t}))];if("bytes"===n)return r="0x"+((r.length%2?"0":"")+r.slice(2)),[{type:"bytes32"},(0,_.w)(r)];if("string"===n)return[{type:"bytes32"},(0,_.w)((0,O.NC)(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>ss({name:e,type:s,types:t,value:i}));return[{type:"bytes32"},(0,_.w)((0,Mt.E)(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}function os(t,e){return yn.apply(this,arguments)}function yn(){return(yn=(0,C.Z)(function*(t,e){const{address:n,factory:r,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:u,...l}=e;return ln(t,{address:n,factory:r,factoryData:s,hash:Ti({message:i,primaryType:a,types:c,domain:u}),signature:o,...l})})).apply(this,arguments)}var Ni=g(42318),is=g(19391),Pi=g(56770),Rt=g(69976),_t=g(41021);function as(t,{blockTag:e="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=t.pollingInterval}){const u=typeof a<"u"?a:!("webSocket"===t.transport.type||"fallback"===t.transport.type&&"webSocket"===t.transport.transports[0].config.type),l=i??!1;let f;return u?(()=>{const b=(0,bt.P)(["watchBlocks",t.uid,e,n,r,l,c]);return(0,Rt.N7)(b,{onBlock:s,onError:o},d=>(0,_t.$)((0,C.Z)(function*(){try{const h=yield(0,H.s)(t,Ut.Q,"getBlock")({blockTag:e,includeTransactions:l});if(h.number&&f?.number){if(h.number===f.number)return;if(h.number-f.number>1&&n)for(let y=f?.number+1n;y<h.number;y++){const w=yield(0,H.s)(t,Ut.Q,"getBlock")({blockNumber:y,includeTransactions:l});d.onBlock(w,f),f=w}}(!f?.number||"pending"===e&&!h?.number||h.number&&h.number>f.number)&&(d.onBlock(h,f),f=h)}catch(h){d.onError?.(h)}}),{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,d=()=>b=!1;return(0,C.Z)(function*(){try{const h=(()=>{if("fallback"===t.transport.type){const w=t.transport.transports.find(p=>"webSocket"===p.config.type);return w?w.value:t.transport}return t.transport})(),{unsubscribe:y}=yield h.subscribe({params:["newHeads"],onData(w){if(!b)return;const v=(t.chain?.formatters?.block?.format||Pi.Z)(w.result);s(v,f),f=v},onError(w){o?.(w)}});d=y,b||d()}catch(h){o?.(h)}})(),()=>d()})()}var Y=g(59450);function cs(t,e){const{abi:n,address:r,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:u,poll:l,pollingInterval:f=t.pollingInterval,strict:m}=e;return(typeof l<"u"?l:"bigint"==typeof a||"webSocket"!==t.transport.type&&("fallback"!==t.transport.type||"webSocket"!==t.transport.transports[0].config.type))?(()=>{const h=m??!1,y=(0,bt.P)(["watchContractEvent",r,s,o,t.uid,i,f,h,a]);return(0,Rt.N7)(y,{onLogs:u,onError:c},w=>{let p;void 0!==a&&(p=a-1n);let v,T=!1;const E=(0,_t.$)((0,C.Z)(function*(){if(T)try{let B;if(v)B=yield(0,H.s)(t,qt,"getFilterChanges")({filter:v});else{const S=yield(0,H.s)(t,Bt.z,"getBlockNumber")({});B=p&&p!==S?yield(0,H.s)(t,Cr,"getContractEvents")({abi:n,address:r,args:s,eventName:i,fromBlock:p+1n,toBlock:S,strict:h}):[],p=S}if(0===B.length)return;if(o)w.onLogs(B);else for(const S of B)w.onLogs([S])}catch(B){v&&B instanceof Y.yR&&(T=!1),w.onError?.(B)}else{try{v=yield(0,H.s)(t,mr,"createContractEventFilter")({abi:n,address:r,args:s,eventName:i,strict:h,fromBlock:a})}catch{}T=!0}}),{emitOnBegin:!0,interval:f});return(0,C.Z)(function*(){v&&(yield(0,H.s)(t,Ft,"uninstallFilter")({filter:v})),E()})})})():(()=>{const h=m??!1,y=(0,bt.P)(["watchContractEvent",r,s,o,t.uid,i,f,h]);let w=!0,p=()=>w=!1;return(0,Rt.N7)(y,{onLogs:u,onError:c},v=>((0,C.Z)(function*(){try{const T=(()=>{if("fallback"===t.transport.type){const S=t.transport.transports.find(L=>"webSocket"===L.config.type);return S?S.value:t.transport}return t.transport})(),E=i?It({abi:n,eventName:i,args:s}):[],{unsubscribe:B}=yield T.subscribe({params:["logs",{address:r,topics:E}],onData(S){if(!w)return;const L=S.result;try{const{eventName:P,args:Z}=Pe({abi:n,data:L.data,topics:L.topics,strict:m}),M=(0,lt.U)(L,{args:Z,eventName:P});v.onLogs([M])}catch(P){let Z,M;if(P instanceof F.SM||P instanceof F.Gy){if(m)return;Z=P.abiItem.name,M=P.abiItem.inputs?.some(J=>!("name"in J&&J.name))}const V=(0,lt.U)(L,{args:M?[]:{},eventName:Z});v.onLogs([V])}},onError(S){v.onError?.(S)}});p=B,w||p()}catch(T){c?.(T)}})(),()=>p()))})()}function us(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=t.pollingInterval}){return(typeof s<"u"?s:"webSocket"!==t.transport.type)?(()=>{const u=(0,bt.P)(["watchPendingTransactions",t.uid,e,o]);return(0,Rt.N7)(u,{onTransactions:r,onError:n},l=>{let f;const m=(0,_t.$)((0,C.Z)(function*(){try{if(!f)try{return void(f=yield(0,H.s)(t,wr,"createPendingTransactionFilter")({}))}catch(b){throw m(),b}const x=yield(0,H.s)(t,qt,"getFilterChanges")({filter:f});if(0===x.length)return;if(e)l.onTransactions(x);else for(const b of x)l.onTransactions([b])}catch(x){l.onError?.(x)}}),{emitOnBegin:!0,interval:o});return(0,C.Z)(function*(){f&&(yield(0,H.s)(t,Ft,"uninstallFilter")({filter:f})),m()})})})():(()=>{let u=!0,l=()=>u=!1;return(0,C.Z)(function*(){try{const{unsubscribe:f}=yield t.transport.subscribe({params:["newPendingTransactions"],onData(m){if(!u)return;const x=m.result;r([x])},onError(m){n?.(m)}});l=f,u||l()}catch(f){n?.(f)}})(),()=>l()})()}const Li=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Di=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;var Oi=g(9007);function pn(){return(pn=(0,C.Z)(function*(t,e){const{address:n,domain:r,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...u}=e,l=function Ri(t){const{scheme:e,statement:n,...r}=t.match(Li)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...u}=t.match(Di)?.groups??{},l=t.split("Resources:")[1]?.split("\n- ").slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...l?{resources:l}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}(s);if(!l.address||!function Ui(t){const{address:e,domain:n,message:r,nonce:s,scheme:o,time:i=new Date}=t;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&i>=r.expirationTime||r.notBefore&&i<r.notBefore)return!1;try{if(!r.address||e&&!(0,Oi.E)(r.address,e))return!1}catch{return!1}return!0}({address:n,domain:r,message:l,nonce:o,scheme:i,time:c}))return!1;const m=Ar(s);return ln(t,{address:l.address,hash:m,signature:a,...u})})).apply(this,arguments)}var fs=g(43914),ls=g(45906);function Hi(t){return{call:e=>(0,re.R)(t,e),createBlockFilter:()=>function ro(t){return xe.apply(this,arguments)}(t),createContractEventFilter:e=>mr(t,e),createEventFilter:e=>br(t,e),createPendingTransactionFilter:()=>wr(t),estimateContractGas:e=>function ao(t,e){return Se.apply(this,arguments)}(t,e),estimateGas:e=>(0,vr.Q)(t,e),getBalance:e=>(0,co.s)(t,e),getBlobBaseFee:()=>function uo(t){return Ae.apply(this,arguments)}(t),getBlock:e=>(0,Ut.Q)(t,e),getBlockNumber:e=>(0,Bt.z)(t,e),getBlockTransactionCount:e=>tr(t,e),getBytecode:e=>kt(t,e),getChainId:()=>(0,Ne.L)(t),getCode:e=>kt(t,e),getContractEvents:e=>Cr(t,e),getEip712Domain:e=>function go(t,e){return Oe.apply(this,arguments)}(t,e),getEnsAddress:e=>(0,to.O)(t,e),getEnsAvatar:e=>(0,eo.r)(t,e),getEnsName:e=>(0,no.w)(t,e),getEnsResolver:e=>or(t,e),getEnsText:e=>(0,ar.g)(t,e),getFeeHistory:e=>cr(t,e),estimateFeesPerGas:e=>(0,Xn.X)(t,e),getFilterChanges:e=>qt(t,e),getFilterLogs:e=>function po(t,e){return ke.apply(this,arguments)}(t,e),getGasPrice:()=>(0,ur.o)(t),getLogs:e=>Re(t,e),getProof:e=>fr(t,e),estimateMaxPriorityFeePerGas:e=>(0,Qn._)(t,e),getStorageAt:e=>Br(t,e),getTransaction:e=>(0,$e.f)(t,e),getTransactionConfirmations:e=>Tr(t,e),getTransactionCount:e=>(0,Ir.K)(t,e),getTransactionReceipt:e=>(0,Sr.a)(t,e),multicall:e=>(0,mo.A)(t,e),prepareTransactionRequest:e=>(0,fs.Z)(t,e),readContract:e=>(0,pe.L)(t,e),sendRawTransaction:e=>(0,ls.p)(t,e),simulateContract:e=>(0,bo.a)(t,e),verifyMessage:e=>_r(t,e),verifySiweMessage:e=>function ki(t,e){return pn.apply(this,arguments)}(t,e),verifyTypedData:e=>os(t,e),uninstallFilter:e=>Ft(t,e),waitForTransactionReceipt:e=>(0,Ni.e)(t,e),watchBlocks:e=>as(t,e),watchBlockNumber:e=>(0,is.q)(t,e),watchContractEvent:e=>cs(t,e),watchEvent:e=>function Zi(t,{address:e,args:n,batch:r=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:u,pollingInterval:l=t.pollingInterval,strict:f}){const m=typeof u<"u"?u:"bigint"==typeof i||!("webSocket"===t.transport.type||"fallback"===t.transport.type&&"webSocket"===t.transport.transports[0].config.type),x=f??!1;return m?(()=>{const h=(0,bt.P)(["watchEvent",e,n,r,t.uid,s,l,i]);return(0,Rt.N7)(h,{onLogs:c,onError:a},y=>{let w;void 0!==i&&(w=i-1n);let p,v=!1;const T=(0,_t.$)((0,C.Z)(function*(){if(v)try{let E;if(p)E=yield(0,H.s)(t,qt,"getFilterChanges")({filter:p});else{const B=yield(0,H.s)(t,Bt.z,"getBlockNumber")({});E=w&&w!==B?yield(0,H.s)(t,Re,"getLogs")({address:e,args:n,event:s,events:o,fromBlock:w+1n,toBlock:B}):[],w=B}if(0===E.length)return;if(r)y.onLogs(E);else for(const B of E)y.onLogs([B])}catch(E){p&&E instanceof Y.yR&&(v=!1),y.onError?.(E)}else{try{p=yield(0,H.s)(t,br,"createEventFilter")({address:e,args:n,event:s,events:o,strict:x,fromBlock:i})}catch{}v=!0}}),{emitOnBegin:!0,interval:l});return(0,C.Z)(function*(){p&&(yield(0,H.s)(t,Ft,"uninstallFilter")({filter:p})),T()})})})():(()=>{let h=!0,y=()=>h=!1;return(0,C.Z)(function*(){try{const w=(()=>{if("fallback"===t.transport.type){const E=t.transport.transports.find(B=>"webSocket"===B.config.type);return E?E.value:t.transport}return t.transport})(),p=o??(s?[s]:void 0);let v=[];p&&(v=[p.flatMap(B=>It({abi:[B],eventName:B.name,args:n}))],s&&(v=v[0]));const{unsubscribe:T}=yield w.subscribe({params:["logs",{address:e,topics:v}],onData(E){if(!h)return;const B=E.result;try{const{eventName:S,args:L}=Pe({abi:p??[],data:B.data,topics:B.topics,strict:x}),P=(0,lt.U)(B,{args:L,eventName:S});c([P])}catch(S){let L,P;if(S instanceof F.SM||S instanceof F.Gy){if(f)return;L=S.abiItem.name,P=S.abiItem.inputs?.some(M=>!("name"in M&&M.name))}const Z=(0,lt.U)(B,{args:P?[]:{},eventName:L});c([Z])}},onError(E){a?.(E)}});y=T,h||y()}catch(w){a?.(w)}})(),()=>y()})()}(t,e),watchPendingTransactions:e=>us(t,e)}}function ds(t,e={}){return ge(t,e)?.extend(Hi)}function $i(t,e){return mn.apply(this,arguments)}function mn(){return(mn=(0,C.Z)(function*(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return(0,U.s)(s,Br,"getStorageAt")(r)})).apply(this,arguments)}var hs=g(70783),bn=g(11321);function gs(t,e){return wn.apply(this,arguments)}function wn(){return(wn=(0,C.Z)(function*(t,e){const{address:n,chainId:r,formatUnits:s=18}=e;function o(i){return[{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:i}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:i}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]}]}try{const a={address:n,abi:o("string"),chainId:r},[c,u,l,f]=yield(0,bn.J)(t,{allowFailure:!0,contracts:[{...a,functionName:"decimals"},{...a,functionName:"name"},{...a,functionName:"symbol"},{...a,functionName:"totalSupply"}]});if(u.error instanceof zt.uq)throw u.error;if(l.error instanceof zt.uq)throw l.error;if(c.error)throw c.error;if(f.error)throw f.error;return{address:n,decimals:c.result,name:u.result,symbol:l.result,totalSupply:{formatted:(0,Ct.b)(f.result,(0,ie.W)(s)),value:f.result}}}catch(i){if(i instanceof zt.uq){const c={address:n,abi:o("bytes32"),chainId:r},[u,l,f,m]=yield(0,bn.J)(t,{allowFailure:!1,contracts:[{...c,functionName:"decimals"},{...c,functionName:"name"},{...c,functionName:"symbol"},{...c,functionName:"totalSupply"}]});return{address:n,decimals:u,name:(0,nt.rR)((0,hs.f)(l,{dir:"right"})),symbol:(0,nt.rR)((0,hs.f)(f,{dir:"right"})),totalSupply:{formatted:(0,Ct.b)(m,(0,ie.W)(s)),value:m}}}throw i}})).apply(this,arguments)}function ys(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return(0,U.s)(s,$e.f,"getTransaction")(r)}function Mi(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return(0,U.s)(s,Tr,"getTransactionConfirmations")(r)}function Gi(t,e){return vn.apply(this,arguments)}function vn(){return(vn=(0,C.Z)(function*(t,e){const{address:n,blockNumber:r,blockTag:s,chainId:o}=e,i=t.getClient({chainId:o});return(0,U.s)(i,Ir.K,"getTransactionCount")(r?{address:n,blockNumber:r}:{address:n,blockTag:s})})).apply(this,arguments)}function qi(t,e){return xn.apply(this,arguments)}function xn(){return(xn=(0,C.Z)(function*(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return(0,U.s)(s,Sr.a,"getTransactionReceipt")(r)})).apply(this,arguments)}function En(){return(En=(0,C.Z)(function*(t,{chain:e}){const{id:n,name:r,nativeCurrency:s,rpcUrls:o,blockExplorers:i}=e;yield t.request({method:"wallet_addEthereumChain",params:[{chainId:(0,O.eC)(n),chainName:r,nativeCurrency:s,rpcUrls:o.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})})).apply(this,arguments)}var Lt=g(46284);function Cn(){return(Cn=(0,C.Z)(function*(t){return"local"===t.account?.type?[t.account.address]:(yield t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>(0,Lt.x)(n))})).apply(this,arguments)}function Bn(){return(Bn=(0,C.Z)(function*(t){return yield t.request({method:"wallet_getPermissions"},{dedupe:!0})})).apply(this,arguments)}function Tn(){return(Tn=(0,C.Z)(function*(t){return(yield t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>(0,Lt.K)(n))})).apply(this,arguments)}function In(){return(In=(0,C.Z)(function*(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})})).apply(this,arguments)}var Ki=g(96263),ps=g(30308),Yi=g(84259),Xi=g(67369),Qi=g(9056);function Sn(){return(Sn=(0,C.Z)(function*(t,e){const{account:n=t.account,chain:r=t.chain,...s}=e;if(!n)throw new ps.o({docsPath:"/docs/actions/wallet/signTransaction"});const o=(0,Ie.T)(n);(0,Qi.F)({account:o,...e});const i=yield(0,H.s)(t,Ne.L,"getChainId")({});null!==r&&(0,Yi.q)({currentChainId:i,chain:r});const c=(r?.formatters||t.chain?.formatters)?.transactionRequest?.format||Xi.tG;return"local"===o.type?o.signTransaction({...s,chainId:i},{serializer:t.chain?.serializers?.transaction}):yield t.request({method:"eth_signTransaction",params:[{...c(s),chainId:(0,O.eC)(i),from:o.address}]},{retryCount:0})})).apply(this,arguments)}function ms(t,e){return An.apply(this,arguments)}function An(){return(An=(0,C.Z)(function*(t,e){const{account:n=t.account,domain:r,message:s,primaryType:o}=e;if(!n)throw new ps.o({docsPath:"/docs/actions/wallet/signTypedData"});const i=(0,Ie.T)(n),a={EIP712Domain:gn({domain:r}),...e.types};if(ts({domain:r,message:s,primaryType:o,types:a}),"local"===i.type)return i.signTypedData({domain:r,message:s,primaryType:o,types:a});const c=function Bi(t){const{domain:e,message:n,primaryType:r,types:s}=t,o=(c,u)=>{const l={...u};for(const f of c){const{name:m,type:x}=f;"address"===x&&(l[m]=l[m].toLowerCase())}return l},i=s.EIP712Domain&&e?o(s.EIP712Domain,e):{},a=(()=>{if("EIP712Domain"!==r)return o(s[r],n)})();return(0,bt.P)({domain:i,message:a,primaryType:r,types:s})}({domain:r,message:s,primaryType:o,types:a});return t.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})})).apply(this,arguments)}function Nn(){return(Nn=(0,C.Z)(function*(t,{id:e}){yield t.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,O.eC)(e)}]},{retryCount:0})})).apply(this,arguments)}function Pn(){return(Pn=(0,C.Z)(function*(t,e){return yield t.request({method:"wallet_watchAsset",params:e},{retryCount:0})})).apply(this,arguments)}var ea=g(71155);function bs(t){return{addChain:e=>function Fi(t,e){return En.apply(this,arguments)}(t,e),deployContract:e=>Yn(t,e),getAddresses:()=>function zi(t){return Cn.apply(this,arguments)}(t),getChainId:()=>(0,Ne.L)(t),getPermissions:()=>function Vi(t){return Bn.apply(this,arguments)}(t),prepareTransactionRequest:e=>(0,fs.Z)(t,e),requestAddresses:()=>function ji(t){return Tn.apply(this,arguments)}(t),requestPermissions:e=>function Wi(t,e){return In.apply(this,arguments)}(t,e),sendRawTransaction:e=>(0,ls.p)(t,e),sendTransaction:e=>(0,Kn.T)(t,e),signMessage:e=>(0,Ki.l)(t,e),signTransaction:e=>function Ji(t,e){return Sn.apply(this,arguments)}(t,e),signTypedData:e=>ms(t,e),switchChain:e=>function _i(t,e){return Nn.apply(this,arguments)}(t,e),watchAsset:e=>function ta(t,e){return Pn.apply(this,arguments)}(t,e),writeContract:e=>(0,ea.n)(t,e)}}function na(t){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,C.Z)(function*(t,e={}){const n=yield(0,Ot.e)(t,e);return n.extend(bs),n.extend(bs)})).apply(this,arguments)}var ra=g(37862),sa=g(70248),oa=g(69902),ws=g(76042),ia=g(94031),aa=g(53313);function ca(t,e){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,C.Z)(function*(t,e){const{account:n,connector:r,...s}=e;let o;return o="object"==typeof n&&"local"===n.type?t.getClient():yield(0,Ot.e)(t,{account:n,connector:r}),(0,U.s)(o,ms,"signTypedData")({...s,...n?{account:n}:{}})})).apply(this,arguments)}var ua=g(56360),rt=g(5274);function fa(t,e){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,C.Z)(function*(t,e){const{connector:n}=e,r=t.state.connections.get(n.uid);if(!r)throw new rt.aH;return yield t.storage?.setItem("recentConnectorId",n.id),t.setState(s=>({...s,current:n.uid})),{accounts:r.accounts,chainId:r.chainId}})).apply(this,arguments)}var vs=g(25659);function la(t,e){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,C.Z)(function*(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return(0,U.s)(s,_r,"verifyMessage")(r)})).apply(this,arguments)}function da(t,e){return On.apply(this,arguments)}function On(){return(On=(0,C.Z)(function*(t,e){const{chainId:n,...r}=e,s=t.getClient({chainId:n});return(0,U.s)(s,os,"verifyTypedData")(r)})).apply(this,arguments)}var ha=g(95087);function ga(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const o=c=>{s&&s();const u=t.getClient({chainId:c});return s=(0,U.s)(u,as,"watchBlocks")(r),s},i=o(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,function(){var c=(0,C.Z)(function*(u){return o(u)});return function(u){return c.apply(this,arguments)}}())),()=>{i?.(),a?.()}}function ya(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const o=c=>{s&&s();const u=t.getClient({chainId:c});return s=(0,U.s)(u,is.q,"watchBlockNumber")(r),s},i=o(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,function(){var c=(0,C.Z)(function*(u){return o(u)});return function(u){return c.apply(this,arguments)}}())),()=>{i?.(),a?.()}}function pa(t,e){const{onChange:n}=e;return t.subscribe(r=>r.chainId,n)}function ma(t,e){const{onChange:n}=e;return t.subscribe(()=>ge(t),n,{equalityFn:(r,s)=>r?.uid===s?.uid})}function ba(t,e){const{onChange:n}=e;return t.subscribe(()=>er(t),n,{equalityFn:Tt.v})}var wa=g(43933);function va(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const o=c=>{s&&s();const u=t.getClient({chainId:c});return s=(0,U.s)(u,cs,"watchContractEvent")(r),s},i=o(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,function(){var c=(0,C.Z)(function*(u){return o(u)});return function(u){return c.apply(this,arguments)}}())),()=>{i?.(),a?.()}}function xa(t,e){const{syncConnectedChain:n=t._internal.syncConnectedChain,...r}=e;let s;const o=c=>{s&&s();const u=t.getClient({chainId:c});return s=(0,U.s)(u,us,"watchPendingTransactions")(r),s},i=o(e.chainId);let a;return n&&!e.chainId&&(a=t.subscribe(({chainId:c})=>c,function(){var c=(0,C.Z)(function*(u){return o(u)});return function(u){return c.apply(this,arguments)}}())),()=>{i?.(),a?.()}}function Ea(t,e){const{onChange:n}=e;return t.subscribe(()=>ds(t),n,{equalityFn:(r,s)=>r?.uid===s?.uid})}var xs=g(11985),Ca=g(75673),Es=g(54752),Ba=g(28942),wt=g(23979),Cs=g(92356),Ta=g(67654),Ia=g(87447),Bs=g(52215),Sa=g(37);const Un=new Map;function kn(){return kn=(0,C.Z)(function*(t){const{getSocket:e,key:n="socket",reconnect:r=!0,url:s}=t,{attempts:o=5,delay:i=2e3}="object"==typeof r?r:{};let a=Un.get(`${n}:${s}`);if(a)return a;let c=0;const{schedule:u}=(0,Ia.S)({id:`${n}:${s}`,fn:(m=(0,C.Z)(function*(){const x=new Map,b=new Map;let d,h;function y(){return w.apply(this,arguments)}function w(){return(w=(0,C.Z)(function*(){return e({onError(p){d=p;for(const v of x.values())v.onError?.(d);for(const v of b.values())v.onError?.(d);x.clear(),b.clear(),r&&c<o&&setTimeout((0,C.Z)(function*(){c++,h=yield y().catch(console.error)}),i)},onOpen(){d=void 0,c=0},onResponse(p){const v="eth_subscription"===p.method,T=v?p.params.subscription:p.id,E=v?b:x,B=E.get(T);B&&B.onResponse(p),v||E.delete(T)}})})).apply(this,arguments)}return h=yield y(),d=void 0,a={close(){h.close(),Un.delete(`${n}:${s}`)},socket:h,request({body:p,onError:v,onResponse:T}){d&&v&&v(d);const E=p.id??Sa.d.take(),B=S=>{"number"==typeof S.id&&E!==S.id||("eth_subscribe"===p.method&&"string"==typeof S.result&&b.set(S.result,{onResponse:B,onError:v}),"eth_unsubscribe"===p.method&&b.delete(p.params?.[0]),T(S))};x.set(E,{onResponse:B,onError:v});try{h.request({body:{jsonrpc:"2.0",id:E,...p}})}catch(S){v?.(S)}},requestAsync({body:p,timeout:v=1e4}){return(0,Bs.F)(()=>new Promise((T,E)=>this.request({body:p,onError:E,onResponse:T})),{errorInstance:new wt.W5({body:p,url:s}),timeout:v})},requests:x,subscriptions:b,url:s},Un.set(`${n}:${s}`,a),[a]}),function(){return m.apply(this,arguments)})}),[l,[f]]=yield u();var m;return f}),kn.apply(this,arguments)}function te(t){return Hn.apply(this,arguments)}function Hn(){return Hn=(0,C.Z)(function*(t,e={}){const{reconnect:n}=e;return function Aa(t){return kn.apply(this,arguments)}({getSocket:({onError:r,onOpen:s,onResponse:o})=>(0,C.Z)(function*(){const i=yield g.e(722).then(g.bind(g,30722)).then(f=>f.WebSocket),a=new i(t);function c(){a.removeEventListener("close",c),a.removeEventListener("message",u),a.removeEventListener("error",r),a.removeEventListener("open",s)}function u({data:f}){o(JSON.parse(f))}a.addEventListener("close",c),a.addEventListener("message",u),a.addEventListener("error",r),a.addEventListener("open",s),a.readyState===i.CONNECTING&&(yield new Promise((f,m)=>{a&&(a.onopen=f,a.onerror=m)}));const{close:l}=a;return Object.assign(a,{close(){l.bind(a)(),c()},request({body:f}){if(a.readyState===a.CLOSED||a.readyState===a.CLOSING)throw new wt.c9({body:f,url:a.url,details:"Socket is closed."});return a.send(JSON.stringify(f))}})})(),reconnect:n,url:t})}),Hn.apply(this,arguments)}function $n(){return($n=(0,C.Z)(function*(t,{body:e,timeout:n=1e4}){return t.requestAsync({body:e,timeout:n})})).apply(this,arguments)}function Mn(){return(Mn=(0,C.Z)(function*(t){const e=yield te(t);return Object.assign(e.socket,{requests:e.requests,subscriptions:e.subscriptions})})).apply(this,arguments)}const Gn={http:(t,e)=>(0,Ta.x)(t).request(e),webSocket:function Na(t,{body:e,onError:n,onResponse:r}){return t.request({body:e,onError:n,onResponse:r}),t},webSocketAsync:function Pa(t,e){return $n.apply(this,arguments)}};function qn(t){const e=new Map,n=t.features??{};let s,r=!1;return(0,Es.K)(o=>({id:"mock",name:"Mock Connector",type:qn.type,setup:()=>(0,C.Z)(function*(){s=o.chains[0].id})(),connect({chainId:i}={}){var a=this;return(0,C.Z)(function*(){if(n.connectError)throw"boolean"==typeof n.connectError?new Y.ab(new Error("Failed to connect.")):n.connectError;const u=yield(yield a.getProvider()).request({method:"eth_requestAccounts"});let l=yield a.getChainId();return i&&l!==i&&(l=(yield a.switchChain({chainId:i})).id),r=!0,{accounts:u.map(f=>(0,Lt.K)(f)),chainId:l}})()},disconnect:()=>(0,C.Z)(function*(){r=!1})(),getAccounts(){var i=this;return(0,C.Z)(function*(){if(!r)throw new rt.aH;return(yield(yield i.getProvider()).request({method:"eth_accounts"})).map(u=>(0,Lt.K)(u))})()},getChainId(){var i=this;return(0,C.Z)(function*(){const c=yield(yield i.getProvider()).request({method:"eth_chainId"});return(0,nt.H_)(c,"number")})()},isAuthorized(){var i=this;return(0,C.Z)(function*(){return!(!n.reconnect||!r)&&!!(yield i.getAccounts()).length})()},switchChain({chainId:i}){var a=this;return(0,C.Z)(function*(){const c=yield a.getProvider(),u=o.chains.find(l=>l.id===i);if(!u)throw new Y.x3(new rt.X4);return yield c.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,O.eC)(i)}]}),u})()},onAccountsChanged(i){0===i.length?this.onDisconnect():o.emitter.emit("change",{accounts:i.map(a=>(0,Lt.K)(a))})},onChainChanged(i){const a=Number(i);o.emitter.emit("change",{chainId:a})},onDisconnect:i=>(0,C.Z)(function*(){o.emitter.emit("disconnect"),r=!1})(),getProvider({chainId:i}={}){var a=this;return(0,C.Z)(function*(){const u=(o.chains.find(f=>f.id===i)??o.chains[0]).rpcUrls.default.http[0],l=function(){var f=(0,C.Z)(function*({method:m,params:x}){if("eth_chainId"===m)return(0,O.eC)(s);if("eth_requestAccounts"===m)return t.accounts;if("eth_signTypedData_v4"===m&&n.signTypedDataError)throw"boolean"==typeof n.signTypedDataError?new Y.ab(new Error("Failed to sign typed data.")):n.signTypedDataError;if("wallet_switchEthereumChain"===m){if(n.switchChainError)throw"boolean"==typeof n.switchChainError?new Y.ab(new Error("Failed to switch chain.")):n.switchChainError;return s=(0,nt.H_)(x[0].chainId,"number"),void a.onChainChanged(s.toString())}if("wallet_getCapabilities"===m)return{"0x2105":{paymasterService:{supported:"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266"===x[0]},sessionKeys:{supported:!0}},"0x14A34":{paymasterService:{supported:"0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266"===x[0]}}};if("wallet_sendCalls"===m){const y=[],w=x[0].calls;for(const v of w){const{result:T,error:E}=yield Gn.http(u,{body:{method:"eth_sendTransaction",params:[v]}});if(E)throw new wt.bs({body:{method:m,params:x},error:E,url:u});y.push(T)}const p=(0,_.w)((0,O.$G)(JSON.stringify(w)));return e.set(p,y),p}if("wallet_getCallsStatus"===m){const y=e.get(x[0]);if(!y)return null;const w=yield Promise.all(y.map(function(){var p=(0,C.Z)(function*(v){const{result:T,error:E}=yield Gn.http(u,{body:{method:"eth_getTransactionReceipt",params:[v],id:0}});if(E)throw new wt.bs({body:{method:m,params:x},error:E,url:u});return T?{blockHash:T.blockHash,blockNumber:T.blockNumber,gasUsed:T.gasUsed,logs:T.logs,status:T.status,transactionHash:T.transactionHash}:null});return function(v){return p.apply(this,arguments)}}()));return w.some(p=>!p)?{status:"PENDING",receipts:[]}:{status:"CONFIRMED",receipts:w}}if("wallet_showCallsStatus"===m)return;if("personal_sign"===m){if(n.signMessageError)throw"boolean"==typeof n.signMessageError?new Y.ab(new Error("Failed to sign message.")):n.signMessageError;m="eth_sign",x=[x[1],x[0]]}const b={method:m,params:x},{error:d,result:h}=yield Gn.http(u,{body:b});if(d)throw new wt.bs({body:b,error:d,url:u});return h});return function(x){return f.apply(this,arguments)}}();return(0,Cs.P)({request:l})({retryCount:0})})()}}))}qn.type="mock";var Ra=g(89373),Ts=g(10086);function La(t,e){const{initialState:n,reconnectOnMount:r}=e;return n&&!t._internal.store.persist.hasHydrated()&&t.setState({...n,chainId:t.chains.some(s=>s.id===n.chainId)?n.chainId:t.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{onMount:()=>(0,C.Z)(function*(){if(t._internal.ssr){yield t._internal.store.persist.rehydrate();const s=t._internal.mipd?.getProviders().map(t._internal.connectors.providerDetailToConnector).map(t._internal.connectors.setup);t._internal.connectors.setState(o=>[...o,...s??[]])}r?(0,ws.G)(t):t.storage&&t.setState(s=>({...s,connections:new Map}))})()}}var Da=g(31129),Is=g(83661),Oa=g(98329),Fn=g(52033);function Ua(t,e={}){const{key:n="webSocket",name:r="WebSocket JSON-RPC",reconnect:s,retryDelay:o}=e;return({chain:i,retryCount:a,timeout:c})=>{const u=e.retryCount??a,l=c??e.timeout??1e4,f=t||i?.rpcUrls.default.webSocket?.[0];if(!f)throw new Oa.I;return(0,Fn.q)({key:n,name:r,request:({method:m,params:x})=>(0,C.Z)(function*(){const b={method:m,params:x},d=yield te(f,{reconnect:s}),{error:h,result:y}=yield d.requestAsync({body:b,timeout:l});if(h)throw new wt.bs({body:b,error:h,url:f});return y})(),retryCount:u,retryDelay:o,timeout:l,type:"webSocket"},{getSocket:()=>function Za(t){return Mn.apply(this,arguments)}(f),getRpcClient:()=>te(f),subscribe:({params:m,onData:x,onError:b})=>(0,C.Z)(function*(){const d=yield te(f),{result:h}=yield new Promise((y,w)=>d.request({body:{method:"eth_subscribe",params:m},onResponse(p){if(p.error)return w(p.error),void b?.(p.error);"number"!=typeof p.id?"eth_subscription"===p.method&&x(p.params):y(p)}}));return{subscriptionId:h,unsubscribe:()=>(0,C.Z)(function*(){return new Promise(y=>d.request({body:{method:"eth_unsubscribe",params:[h]},onResponse:y}))})()}})()})}}var ka=g(40253),Ha=g(18660);function $a(t,e={}){const{type:n}=t,{key:r="connector",name:s="Connector",retryDelay:o}=e;return i=>{const{chain:a,connectors:c}=i,u=e.retryCount??i.retryCount,l=function(){var f=(0,C.Z)(function*({method:m,params:x}){const b=c?.getState().find(w=>w.type===n);if(!b)throw new Y.u5(new Error(`Could not find connector of type "${n}" in \`connectors\` passed to \`createConfig\`.`));const d=yield b.getProvider({chainId:a?.id});if(!d)throw new Y.u5(new Error("Provider is disconnected."));const h=(0,nt.ly)(yield(0,Ha.J)(()=>(0,Bs.F)(()=>d.request({method:"eth_chainId"}),{timeout:100})));if(a&&h!==a.id)throw new Y.I0(new Error(`The current chain of the connector (id: ${h}) does not match the target chain for the request (id: ${a.id} \u2013 ${a.name}).`));const y={method:m,params:x};return d.request(y)});return function(x){return f.apply(this,arguments)}}();return(0,Fn.q)({key:r,name:s,request:l,retryCount:u,retryDelay:o,type:"connector"})}}var Ma=g(29348);function Ga(t,e={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,retryCount:o,retryDelay:i}=e;return({chain:a,pollingInterval:c=4e3,timeout:u,...l})=>{let f=t,m=()=>{};const x=(0,Fn.q)({key:n,name:r,request:({method:b,params:d})=>(0,C.Z)(function*(){const h=function(){var y=(0,C.Z)(function*(w=0){const p=f[w]({...l,chain:a,retryCount:0,timeout:u});try{const v=yield p.request({method:b,params:d});return m({method:b,params:d,response:v,transport:p,status:"success"}),v}catch(v){if(m({error:v,method:b,params:d,transport:p,status:"error"}),function qa(t){return"code"in t&&"number"==typeof t.code&&(t.code===Y.KB.code||t.code===Y.ab.code||5e3===t.code)}(v)||w===f.length-1)throw v;return h(w+1)}});return function(){return y.apply(this,arguments)}}();return h()})(),retryCount:o,retryDelay:i,type:"fallback"},{onResponse:b=>m=b,transports:f.map(b=>b({chain:a,retryCount:0}))});if(s){const b="object"==typeof s?s:{};!function Fa({chain:t,interval:e=4e3,onTransports:n,sampleCount:r=10,timeout:s=1e3,transports:o,weights:i={}}){const{stability:a=.7,latency:c=.3}=i,u=[],l=function(){var f=(0,C.Z)(function*(){const m=yield Promise.all(o.map(function(){var d=(0,C.Z)(function*(h){const y=h({chain:t,retryCount:0,timeout:s}),w=Date.now();let p,v;try{yield y.request({method:"net_listening"}),v=1}catch{v=0}finally{p=Date.now()}return{latency:p-w,success:v}});return function(h){return d.apply(this,arguments)}}()));u.push(m),u.length>r&&u.shift();const x=Math.max(...u.map(d=>Math.max(...d.map(({latency:h})=>h)))),b=o.map((d,h)=>{const y=u.map(E=>E[h].latency),p=1-y.reduce((E,B)=>E+B,0)/y.length/x,v=u.map(E=>E[h].success),T=v.reduce((E,B)=>E+B,0)/v.length;return 0===T?[0,h]:[c*p+a*T,h]}).sort((d,h)=>h[0]-d[0]);n(b.map(([,d])=>o[d])),yield(0,Ma.D)(e),l()});return function(){return f.apply(this,arguments)}}();l()}({chain:a,interval:b.interval??c,onTransports:d=>f=d,sampleCount:b.sampleCount,timeout:b.timeout,transports:f,weights:b.weights})}return x}}function za(t,e){return Ga(t,e)}var Ss=g(13397);const Va={getItem:t=>typeof window>"u"?null:zn(document.cookie,t)??null,setItem(t,e){typeof window>"u"||(document.cookie=`${t}=${e};Path=/;SameSite=Lax`)},removeItem(t){typeof window>"u"||(document.cookie=`${t}=;max-age=-1`)}};function ja(t,e){if(!e)return;const r=zn(e,`${t.storage?.key}.store`);return r?(0,Ss.v)(r).state:void 0}function zn(t,e){const n=t.split("; ").find(r=>r.startsWith(`${e}=`));if(n)return n.substring(e.length+1)}function Wa(t){if("string"==typeof t)return Number.parseInt(t,"0x"===t.trim().substring(0,2)?16:10);if("bigint"==typeof t)return Number(t);if("number"==typeof t)return t;throw new Error(`Cannot normalize chainId "${t}" of type "${typeof t}"`)}var Ka=g(15349),Ya=g(22118)}}]);